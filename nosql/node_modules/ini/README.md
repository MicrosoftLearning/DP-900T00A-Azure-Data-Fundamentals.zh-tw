---
ms.openlocfilehash: 1997c778eb616617ba9d369f6a27828bf83af8b8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050464"
---
節點的 ini 格式剖析器和序列化程式。

區段會被視為巢狀物件。  第一個標題之前的項目會直接儲存在物件上。

## <a name="usage"></a>使用方式

請考慮如下所示的 ini 檔案 `config.ini`：

    ; this comment is being ignored
    scope = global

    [database]
    user = dbuser
    password = dbpassword
    database = use_this_database

    [paths.default]
    datadir = /var/lib/data
    array[] = first value
    array[] = second value
    array[] = third value

您可以讀取、操作和寫入 ini 檔案，如下所示：

    var fs = require('fs')
      , ini = require('ini')

    var config = ini.parse(fs.readFileSync('./config.ini', 'utf-8'))

    config.scope = 'local'
    config.database.database = 'use_another_database'
    config.paths.default.tmpdir = '/tmp'
    delete config.paths.default.datadir
    config.paths.default.array.push('fourth value')

    fs.writeFileSync('./config_modified.ini', ini.stringify(config, { section: 'section' }))

這會導致名為 `config_modified.ini` 的檔案寫入檔案系統，內容如下：

    [section]
    scope=local
    [section.database]
    user=dbuser
    password=dbpassword
    database=use_another_database
    [section.paths.default]
    tmpdir=/tmp
    array[]=first value
    array[]=second value
    array[]=third value
    array[]=fourth value


## <a name="api"></a>API

### <a name="decodeinistring"></a>decode(inistring)

將 ini 樣式格式化的 `inistring` 解碼為巢狀物件。

### <a name="parseinistring"></a>parse(inistring)

`decode(inistring)` 的別名

### <a name="encodeobject-options"></a>encode(object, [options])

將物件 `object` 編碼成 ini 樣式的格式化字串。 如果指定了選擇性參數 `section`，則物件的所有最上層屬性都會放入本區段中，而 `section` 字串會放在所有子區段前面，請參閱上述的使用範例。

`options` 物件可能包含以下：

* `section` 字串，是編碼的 ini 資料中的第一個 `section`。  預設為 none。
* `whitespace` 布林值，指定是否要在 `=` 字元周圍放置空白字元。  根據預設，會省略空白字元，讓一些不容許空白字元、挑剔的舊剖析器便於使用。  但有些人覺得使用空白字元會更容易閱讀，而且更美觀。

基於回溯相容性的原因，如果傳入了 `string` 選項，則會假設為 `section` 值。

### <a name="stringifyobject-options"></a>stringify(object, [options])

`encode(object, [options])` 的別名

### <a name="safeval"></a>safe(val)

逸出字串 `val` ，以便安全地作為 ini 檔案中的索引鍵或值使用。 基本上會逸出引號。 例如：

    ini.safe('"unsafe string"')

會導致

    "\"unsafe string\""

### <a name="unsafeval"></a>unsafe(val)

取消逸出字串 `val`
